<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"
[
<!ENTITY cpr SYSTEM "copyright.sgml">
<!ENTITY supplatforms SYSTEM "supportedplatforms.sgml">
<!ENTITY pwrecord SYSTEM "pwrecord.sgml">
<!ENTITY caution SYSTEM "caution.sgml">
<!ENTITY license SYSTEM "license.sgml">
<!ENTITY bugreport SYSTEM "bugreport.sgml">
<!ENTITY OPENSSL "<citerefentry><refentrytitle>ssl</refentrytitle>
<manvolnum>3</manvolnum></citerefentry>">
<!ENTITY CRYPTO "<citerefentry><refentrytitle>crypto</refentrytitle>
<manvolnum>3</manvolnum></citerefentry>">
<!ENTITY CURSES "<citerefentry><refentrytitle>curses</refentrytitle>
<manvolnum>3X</manvolnum></citerefentry>">
<!ENTITY YP "@PACKAGE_NAME@">
<!ENTITY yp "<command>@PACKAGE@</command>">
<!ENTITY ypman "<citerefentry><refentrytitle>yapet</refentrytitle>
<manvolnum>1</manvolnum></citerefentry>">
<!ENTITY CSV2YAPET "csv2yapet">
<!ENTITY csv2yapet "<command>csv2yapet</command>">
<!ENTITY csv2yapetman "<citerefentry><refentrytitle>csv2yapet</refentrytitle>
<manvolnum>1</manvolnum></citerefentry>">
<!ENTITY FREEBSD "<trademark class='registered'>FreeBSD</trademark>">
<!ENTITY SOLARIS "<trademark class='trademark'>Sun</trademark>
<trademark class='trademark'>Solaris</trademark>">
<!ENTITY YPPKG "@PACKAGE_TARNAME@-@PACKAGE_VERSION@.tar.gz">
<!ENTITY YPVER "@PACKAGE_VERSION@">
<!ENTITY DEFRCFILE "<envar>$HOME</envar><filename>/.yapet</filename>">
]>
<refentry id="yapet">
  <!-- $Id$ -->

  <refentryinfo>
     <productname>yapet</productname>
     &cpr;
  </refentryinfo>

  <refmeta>
    <refentrytitle>yapet</refentrytitle>
    <manvolnum>1</manvolnum>
    <refmiscinfo class="version">@PACKAGE_VERSION@</refmiscinfo>
    <refmiscinfo class="manual">User Commands</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>yapet</refname>
    <refpurpose>text based password manager</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis cmdlength="5">
      &yp;
      <group>
	<arg choice="opt" rep="norepeat"><option>-c</option></arg>
	<arg choice="opt" rep="norepeat"><option>-h</option></arg>
	<arg choice="opt" rep="norepeat"><option>-V</option></arg>
      </group>
      <group>
	<arg choice="opt" rep="norepeat"><option>-i</option></arg>
	<arg choice="opt" rep="norepeat"><option>-r</option><arg choice="req"
	rep="norepeat"><replaceable>rcfile</replaceable></arg></arg>
      </group>
      <group>
	<arg choice="opt" rep="norepeat"><option>-s</option></arg>
	<arg choice="opt" rep="norepeat"><option>-S</option></arg>
      </group>
      <arg choice="opt" rep="norepeat"><option>-t</option> <arg choice="req"
      rep="norepeat"><replaceable>sec</replaceable></arg></arg>

      <arg><replaceable>filename</replaceable></arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <!--
  -
  -  DESCRIPTION
  -
  -->
  <refsect1 id="description">
    <title>DESCRIPTION</title>

    <para>&yp; stores passwords and associated information (referred to as
    <firstterm>password records</firstterm>) in files encrypted on disk.</para>

    <para>&yp; does not impose a limit of password records per file and the
    number of files the passwords are stored in, although &yp; is able to
    display only password records of one file at a time.</para>

    <para>For convenience, &yp; provides a search function for password records
    of the currently loaded password file.</para>

    <para>The password records are protected by a master password. The master
    password is used to encrypt and decrypt the password records.</para>

    <para>&yp; relies on OpenSSL for encryption and decryption of password
    records. The cipher for encryption and decryption is Blowfish with a 448
    bits key.
    </para>

    <para>Files created by &yp; always have the suffix
    <filename>.pet</filename>. This cannot be changed. Also, if a file is
    loaded using the command line, &yp; appends the suffix
    <filename>.pet</filename> to the file name unless the file name includes
    this suffix.</para>

    <refsect2 id="mainscreen">
      <title>Main Screen</title>

      <para>Invoking &yp; without command line arguments given will show a
      screen as shown in <xref linkend="fig.mainscreen" />.</para>

      <figure id="fig.mainscreen">
	<title>Main Screen</title>
	<mediaobject>
	  <textobject>
<screen format="linespecific">
                  ..::|| YAPET @PACKAGE_VERSION@ ||::..
+---------------------------++---------------------------+
|                           ||          K E Y S          |
|                           ||---------------------------|
|                           ||   S     Save File         |
|                           ||   R     Load File         |
|                           ||   L     Lock Screen       |
|                           ||   A     Add Entry         |
|                           ||   D     Delete Entry      |
|                           ||   O     Sort Order        |
|                           ||   /     Search            |
|                           ||   N     Search Next       |
|                           ||   C     Change Password   |
|                           ||   ^L    Redraw Screen     |
|                           ||   Q     Quit              |
|                           ||   G     Password Generator|
|                           |+---------------------------+
|                           |+---------------------------+
|                           ||                           |
|                           ||                           |
|                           ||                           |
|                           ||                           |
+---------------------------++---------------------------+
No file loaded
</screen>
	  </textobject>
	</mediaobject>
      </figure>

      <para>The upper right frame in <xref linkend="fig.mainscreen" /> shows
      the function keys recognized by &yp;. See <xref linkend="functionkeys" />
      for details about the function keys.</para>

      <para>The empty frame on the left side of the main screen will display
      the list of password records. The selection of the record to be viewed
      can be moved as explained in <xref linkend="selectionmovement" />.</para>

      <para>Only when a a password file is loaded, the lower right frame will
      display some status information as explained in <xref
      linkend="statusframe" />.</para>
    </refsect2>

    <!--
	-
	-  PASSWORD RECORD
	-
    -->
    <refsect2 id="passwordrecord">
      <title>Password Record</title>

      <para>Passwords are stored as records having the fields as shown in <xref
      linkend="fig.pwrecord" /> below.</para>

      <figure id="fig.pwrecord">
	<title>Password Record Dialog</title>
  <mediaobject>
    <textobject>
<screen format="linespecific">
+-P A S S W O R D  R E C O R D--------------------+
|Name                                             |
|_________________________________________________|
|Host                                             |
|_________________________________________________|
|Username                                         |
|_________________________________________________|
|Password                                         |
|_________________________________________________|
|Comment                                          |
|_________________________________________________|
|                                                 |
|[ OK ] [ Cancel ] [ Generate Password ]          |
+-------------------------------------------------+
</screen>
    </textobject>
  </mediaobject>
      </figure>

      <para>The fields have the following meaning:</para>

      &pwrecord;

      <para>For an explanation of the <guibutton>Generate Password</guibutton>
      refer to <xref linkend="passwordgenerator" />.</para>
    </refsect2>

    <!--
	-
	-  FUNCTION KEYS
	-
    -->
    <refsect2 id="functionkeys">
      <title>Function Keys</title>

      <para>Function keys are the keys recognized by &yp; in the main screen,
      i.e. if no dialog is presented.  Function keys are not case-sensitive. See
      below for an explanation of the function keys recognized:
      </para>

      <variablelist>

	<varlistentry>
	  <term><keycap>S</keycap></term>

	  <listitem>
	    <simpara>Saves the password records to the file.</simpara>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>R</keycap></term>

	  <listitem>
	    <para>Load (read) a file from disk. This command is also used to
	    create a new file. When creating a new file, enter the file name into
	    the input field. &yp; will ask whether it should create the file if
	    it does not exist.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>L</keycap></term>

	  <listitem>
	    <para>Lock and blank the screen. Has only effect if a file is
	    loaded. In order to unlock the screen, the password of the currently
	    loaded file has to be entered.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>A</keycap></term>

	  <listitem>
	    <para>Add a new password record to the currently loaded file. The
	    password record will be permanently added to the file when the
	    file is saved by pressing <keycap>S</keycap>.
	    </para>

	    <para>Before this function can be used an existing file has to be
	    loaded or a new file has to be created by pressing
	    <keycap>R</keycap>.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>D</keycap></term>

	  <listitem>
	    <para>Delete a password entry from the currently loaded file. The
	    entry will be permanently deleted if the file is saved by pressing
	    <keycap>S</keycap>.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>O</keycap></term>

	  <listitem>
	    <para>Change the sort order to either ascending or descending. This
	    setting is not kept permanently and is lost upon restart of
	    &yp;.</para>

	    <para>The default sort order is ascending.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>/</keycap></term>

	  <listitem>
	    <para>Start a new search. &yp; can only search the name of the
	    password records for a particular term. If the term is found, the
	    item is highlighted. The search can be repeated by pressing
	    <keycap>N</keycap>.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>N</keycap></term>

	  <listitem>
	    <para>Repeat the search using the search term specified by invoking the
	    search functionality by pressing <keycap>/</keycap>.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>C</keycap></term>

	  <listitem>
	    <para>Change the master password of the currently loaded file. This
	    action requires to save all changes first. The file with the old
	    master password will be saved as
	    <filename><replaceable>filename</replaceable>.pet.bak</filename> where
	    <replaceable>filename</replaceable> is the name of the currently
	    loaded file.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycombo action="simul"><keycap>CTRL</keycap>
	  <keycap>L</keycap></keycombo> (<keycap>^L</keycap>)</term>

	  <listitem>
	    <para>Redraws the screen.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Q</keycap></term>

	  <listitem>
	    <para>Quit &yp;. If changes were not saved &yp; will ask
	    whether they should be saved or not. Regardless of the answer, &yp;
	    quits, either saving the changes or discarding them.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>G</keycap></term>

	  <listitem>
	    <para>Open the Password Generator Dialog. See <xref
	    linkend="passwordgenerator" /> for further information.
	    </para>
	  </listitem>
	</varlistentry>

      </variablelist>
    </refsect2>

    <!--
	-
	-  DIALOGS
	-
    -->
    <refsect2 id="dialogs">
      <title>Dialogs</title>

      <para>Frames appearing on top of the Main Screen are called
      <firstterm>Dialogs</firstterm>. They are comprised of widgets which can
      take input from the user.</para>

      <para>The <keycap>Tab</keycap> key will switch the focus to the next
      widget. Be aware that <keycombo
      action="simul"><keycap>Shift</keycap><keycap>Tab</keycap></keycombo> does
      not work for focusing the previous widget.</para>

      <para>By pressing the <keycap>Esc</keycap> key dialogs will be canceled and
      closed.</para>

      <!--
	  -
	  - PASSWORD GENERATOR DIALOG
	  -
      -->
      <refsect3 id="passwordgenerator">
	<title>Password Generator Dialog</title>

	<para>&yp; may compute random password of arbitrary length using
	characters from different character pools.</para>

	<para>In the Main Screen, pressing <keycap>G</keycap> will bring up the
	Password Generator Dialog, which simply generates passwords.</para>

	<para>The check boxes can be selected by pressing either
	<keycap>Enter</keycap> or <keycap>Space</keycap> keys, the
	<keycap>Down</keycap> and <keycap>Up</keycap> keys will selected the
	next or previous check box, respectively. Pressing the
	<keycap>Tab</keycap> will leave the check boxes and focus the
	<guibutton>Regenerate</guibutton> button, which can be used to
	regenerate the password with the options set.</para>

	<para>By pressing the <guibutton>Generate Password</guibutton> button
	in the Password Record Dialog the Password Generator Dialog will also
	be displayed. Additionally, the generated password can be inserted into
	the Password Record by pressing <guibutton>OK</guibutton>. Any previous
	password will replaced by the generated password.</para>

	<para>See <xref linkend="configurationfile" /> on how the password
	generator options can be preset.</para>
      </refsect3>
    </refsect2>
    <!--
	-
	-  SELECTION MOVEMENT
	-
    -->
    <refsect2 id="selectionmovement">
      <title>Selection Movement</title>

      <para>The keys explained below are recognized for selection movement in
      list widgets, such as the password records list or the lists used by the
      File Open dialog.</para>

      <variablelist>
	<varlistentry>
	  <term><keycap>Up</keycap>, <keycap>k</keycap>, <keycap>Down</keycap>,
	  <keycap>j</keycap></term>

	  <listitem>
	    <para>Moves the selection one item up (<keycap>Up</keycap>,
	    <keycap>k</keycap>) or down (<keycap>Down</keycap>,
	    <keycap>j</keycap>).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Page Up</keycap>, <keycap>Page Down</keycap></term>

	  <listitem>
	    <para>Scrolls one screen-full up (<keycap>Page Up</keycap>) or down
	    (<keycap>Page Down</keycap>).</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Home</keycap>, <keycap>End</keycap></term>

	<listitem>
	  <para>Scrolls to the beginning (<keycap>Home</keycap>) or the end
	  (<keycap>End</keycap>) of the list.</para>
	</listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Enter</keycap></term>

	  <listitem>
	    <para>Chooses the selected item.</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </refsect2>

    <refsect2 id="cursormovement">
      <title>Cursor Movement</title>

      <para>Cursor movement, whether in clear text or password fields, is
      accomplished by using the following keys:</para>

      <variablelist>
	<varlistentry>
	  <term><keycap>Left</keycap>, <keycap>Up</keycap></term>

	  <listitem>
	    <para>Moves the cursor one character to the left. In password fields, it
	    deletes the character to the left of the current cursor
	    position.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Right</keycap>, <keycap>Down</keycap></term>

	  <listitem>
	    <para>Moves the cursor one character to the right. In password fields,
	    these keys do nothing.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Home</keycap></term>

	  <listitem>
	    <para>Moves the cursor at the beginning of the input field.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>End</keycap></term>

	  <listitem>
	    <para>Moves the cursor at the end of the input field.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Backspace</keycap></term>

	  <listitem>
	    <para>Moves the cursor one character to the right and deletes the
	    character at this position.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Delete</keycap></term>

	  <listitem>
	    <para>Keeps the cursor at the current position and deletes the
	    character on the right, shifting remaining characters to the
	    left.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><keycap>Enter</keycap>, <keycap>Tab</keycap></term>

	  <listitem>
	    <para>The input is confirmed and the next widget will be
	    focused.</para>
	  </listitem>
	</varlistentry>

      </variablelist>

    </refsect2>

    <refsect2 id="editingpasswordrecords">
	<title>Editing Password Records</title>

	<para>When a password record is opened by pressing
	<keycap>Enter</keycap>, it is opened in read-only mode in order to
	prevent accidental modification.</para>

	<para>After opening a password record, the read-only mode can be left
	by pressing <keycombo
	action='simul'><keycap>Ctrl</keycap><keycap>e</keycap></keycombo> in
	any of the text fields.</para>
    </refsect2>

    <!--
	-
	-  CONFIGURATION FILE
	-
    -->
    <refsect2 id="configurationfile">
      <title>Configuration File</title>

      <para>If the file &DEFRCFILE; exists, &yp; reads options
      provided in this file. You may specify a different configuration file by
      using the <option>-r</option> option (see <xref linkend="options"
      />). Options given on the command line have precedence over options given
      in a configuration file.
      </para>

      <para>The configuration file has the following syntax:</para>

      <informalexample>
	<para><replaceable>option</replaceable>=<replaceable>value</replaceable></para>
      </informalexample>

      <para>where <replaceable>option</replaceable> can be any of the following:</para>

      <variablelist>
	<varlistentry>
	  <term><option>load</option></term>

	  <listitem>
	    <para>The file to load upon start of &yp;.</para>

	    <para>Equivalent to providing a <replaceable>filename</replaceable>
	    when invoking &yp;.</para>

	    <para>A <envar>~</envar> (tilde) sign as the first character of the
	    file path will be replaced by the home directory of the user running
	    &yp;.</para>

	    <para>Default: not set</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>locktimeout</option></term>

	  <listitem>
	    <para>A positive integer specifying the time of inactivity in seconds
	    until the screen is locked.</para>

	    <para>Equivalent to providing the <option>-t</option> option when
	    invoking &yp;.</para>

	    <para>Default: 600</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwinputtimeout</option></term>

	  <listitem>
	    <para>A positive integer specifying the time of inactivity in seconds
	    until the password prompt for unlocking the screen will disappear.</para>

	    <para>Default: 60</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>allowlockquit</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 allows the user to quit
	    &yp; from the locked screen (if no changes are pending). A value of
	    0 prevents the user from quitting &yp; when the screen is locked.</para>

	    <para>Default: 1</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>checkfsecurity</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 enables the
	    verification of the file owner and permissions when loading a
	    file. A value of 0 disables the verification of the file owner and
	    permissions when loading a file.</para>

	    <para>Equivalent to providing the <option>-S</option> (same as 1)
	    or <option>-s</option> (same as 0) options when invoking
	    &yp;.</para>

	    <para>Default: 1</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_rng</option></term>

	  <listitem>
	    <para>The random number generator used to generate passwords. Possible values are
	    <variablelist>
	      <varlistentry>
		<term><literal>devrandom</literal></term>

		<listitem>
		  <para>Requests the use of
		  <filename>/dev/random</filename>. This is a high-quality
		  random number generator. However, if the system lacks
		  entropy, reading from this device may block, thus making &yp;
		  unresponsive.</para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><literal>devurandom</literal></term>

		<listitem>
		  <para>Requests the use of
		  <filename>/dev/urandom</filename>. This is a quality random
		  number generator similar to <filename>/dev/random</filename>
		  but not of the same quality.</para>

		  <para>Using this random number generator will not block as
		  opposite to <filename>/dev/random</filename>.</para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><literal>lrand48</literal></term>

		<listitem>
		  <para>Requests the use of <literal>lrand48</literal>. This is
		  low-quality random number generator and should be used only
		  if none of the above two random number generators are
		  available.</para>
		</listitem>
	      </varlistentry>

	      <varlistentry>
		<term><literal>rand</literal></term>

		<listitem>
		  <para>Requests the use of <literal>rand</literal>. This is a
		  last resort random number generator and should not be
		  used.</para>
		</listitem>
	      </varlistentry>
	    </variablelist>

	    If the random number generator requested is not available on the
	    system, &yp; searches for a suitable alternative.
	    </para>

	    <para>Default: devurandom</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_pwlen</option></term>

	  <listitem>
	    <para>A positive integer greater than zero specifying the default
	    password length used by the Password Generator Dialog.</para>

	    <para>Default: 10</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_letters</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 will preselect
	    <guilabel>Letters</guilabel> check box of the Password Generator
	    Dialog. 0 does not preselect <guilabel>Letters</guilabel> check
	    box.</para>

	    <para>Default: 1</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_digits</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 will preselect
	    <guilabel>Digits</guilabel> check box of the Password Generator
	    Dialog. 0 does not preselect <guilabel>Digits</guilabel> check
	    box.</para>

	    <para>Default: 1</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_punct</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 will preselect
	    <guilabel>Punctuation</guilabel> check box of the Password Generator
	    Dialog. 0 does not preselect <guilabel>Punctuation</guilabel> check
	    box.</para>

	    <para>Default: 1</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_special</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 will preselect
	    <guilabel>Special</guilabel> check box of the Password Generator Dialog. 0 does not
	    preselect <guilabel>Special</guilabel> check box.</para>

	    <para>Default: 1</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><option>pwgen_other</option></term>

	  <listitem>
	    <para>A value of 1 (one) or 0 (zero). A value of 1 will preselect
	    <guilabel>Other</guilabel> check box of the Password Generator Dialog. 0 does not
	    preselect <guilabel>Other</guilabel> check box.</para>

	    <para>Default: 0</para>
	  </listitem>
	</varlistentry>
      </variablelist>

      <para>See <xref linkend="examples" /> for examples of configuration
      files.</para>

      <para>Options are case-sensitive. Spaces are not allowed before or after
      the equal sign. Syntax errors and unrecognized options are ignored
      silently.</para>
    </refsect2>

    <refsect2 id="statusframe">
      <title>Status Frame</title>

      <para>When a password file is loaded, &yp; displays some status
      information in the lower right frame as shown in <xref
      linkend="fig.statusframe" /></para>

      <figure id="fig.statusframe">
	<title>The Status Frame</title>
	<mediaobject>
	  <textobject>
<screen>
+--------------------------------------+
| File permission check: enabled       |
| Screen lock time-out: 600 sec        |
| 1 entries (+)  (V: 1)                |
| PW set: Sat Aug 22 11:49:46 2009     |
+--------------------------------------+
</screen>
	  </textobject>
	</mediaobject>
      </figure>

      <para><guilabel>File permission check</guilabel> is explained in <xref
      linkend="options" /> under the <option>-s</option> and
      <option>-S</option> options.</para>

      <para>The next line labeled <guilabel>Screen lock time-out</guilabel>
      displays how long &yp; will wait for a key press until the screen is
      locked.</para>

      <para>The third line is giving a count of the password records in the
      currently loaded file. The <guilabel>(+)</guilabel> sign indicates
      that there are unsaved modifications in one or more password
      records. Absence of this sign indicates that no changes have been made to
      the records.</para>

      <para>The <guilabel>(V: 1)</guilabel> label indicates that the file
      currently loaded was created with &yp; version 0.5 or earlier. A file
      created with version 0.6 or a file created with &yp; version prior 0.6
      having its master password changed using &yp; 0.6 will display
      <guilabel>(V: 2)</guilabel>.</para>

      <para>The fourth and last line shows the date the current master password
      has been set.</para>

    </refsect2>

    <!--
	-
	-  CAUTION
	-
    -->
    <refsect2 id="caution">
      <title>Caution</title>
      &caution;
    </refsect2>

    <refsect2 id="petfileformat">
      <title>Format of &YP; Files</title>

      <para>Please refer to the <filename>DESIGN</filename> in source code
      distribution or point your browser to <ulink
      url="http://www.guengel.ch/myapps/yapet/">http://www.guengel.ch/myapps/yapet/</ulink>.</para>
    </refsect2>

  </refsect1>
  <!--
       ##############################
       -
       - END OF DESCRIPTION
       -
       ##############################
  -->

  <!--
      -
      -  OPTIONS
      -
  -->
  <refsect1 id="options">
    <title>OPTIONS</title>

    <para>The following options are supported:</para>

    <variablelist>
      <varlistentry>
	<term><option>-c</option>, <option>--copyright</option></term>
	<listitem>
	  <para>Show the copyright information.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-h</option>, <option>--help</option></term>
	<listitem>

	  <para>Print a help text.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-i</option>, <option>--ignore-rc</option></term>
	<listitem>
	  <para>Do not read the configuration file. See also the
	  <option>ignorerc</option> option in <xref linkend="configurationfile"
	  />.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-r</option> <replaceable>rcfile</replaceable>,
	<option>--rc-file</option> <replaceable>rcfile</replaceable></term>

	<listitem>
	  <para>Read the configuration file specified by
	  <replaceable>rcfile</replaceable>. If this option is not given, the
	  default configuration file read is &DEFRCFILE; unless
	  <option>-i</option> is specified.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-s</option>, <option>--no-file-security</option></term>

	<listitem>
	  <para>Disable the check for the owner and file mode when loading
	  files. Without this option, &yp; checks password files for having the
	  same owner as the user running &yp; and verifies that the file mode
	  is strictly 0600. If one of these conditions are not met, &yp; refuses
	  to load the file. Providing this options disables those checks and
	  &yp; will load files with owners other than the process owner of
	  &yp; and file modes different from 0600.</para>

	  <para>New files saved while this option is active will have the file
	  mode set to 0644.</para>

	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-S</option>, <option>--file-security</option></term>

	<listitem>
	  <para>Enable the check for the owner and file mode when loading
	  files. This option makes &yp; to load password files having the
	  owner set to the process owner of &yp; and the file mode strictly set
	  to 0600 only. If one of these conditions are not met, &yp; refuses to
	  load the file.</para>

	  <para>New files saved while this option is active will have the file
	  mode set to 0600.</para>

	  <para>This is the default mode.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-t</option> <replaceable>sec</replaceable>,
	<option>--timeout</option> <replaceable>sec</replaceable></term>

	<listitem>

	  <para>Set the timeout until the screen is locked to
	  <replaceable>sec</replaceable> seconds. The minimum time allowed is
	  10 seconds. If a lower value is provided, the timeout will be set to
	  10 seconds.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-V</option>, <option>--version</option></term>
	<listitem>

	  <para>Show the version of &yp;.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option><replaceable>filename</replaceable></option></term>

	<listitem>
	  <para>The file to open upon invocation of &yp;. If the file does not
	  exist, &yp; asks whether it should be created.
	  </para>

	  <para>Files created by &yp; always have the suffix <filename
	  moreinfo="none">.pet</filename>.
	  </para>
	</listitem>
      </varlistentry>

    </variablelist>
  </refsect1>

  <!--
  -
  - EXAMPLES
  -
  -->
  <refsect1 id="examples">
    <title>EXAMPLES</title>

    <example id="ex.cfgfile1">
      <title>Example of an &yp; configuration file</title>

      <literallayout>load=/home/joe/passwords
locktimeout=300
checkfsecurity=0
pwgen_pwlen=8</literallayout>

      <para>In this example, the file <filename>/home/joe/passwords</filename>
      will be loaded upon invocation of &yp;. The timeout until the screen is
      locked is set to 300 seconds. File permissions will not be verified.</para>

      <para>The Password Generator Dialog will have preset the
      <guilabel>Password Length</guilabel> to 8 characters.</para>
    </example>

    <example id="ex.cfgfile2">
      <title>Example of an &yp; configuration file</title>

      <literallayout>locktimeout=150
checkfsecurity=1
pwgen_other=1
</literallayout>

      <para>In this example, no file will be automatically loaded upon
      invocation of &yp;. The timeout until the screen is locked is set to 150
      seconds. File permissions and owner will be verified.</para>

      <para>The Password Generator Dialog will have preset the
      <guilabel>Other</guilabel> check box checked.</para>
    </example>

    <example id="ex.cfgfile3">
      <title>Example 1 revisited</title>

      <literallayout>load=~/passwords.pet
locktimeout=300
checkfsecurity=0
pwgen_pwlen=8</literallayout>

      <para>This example has the same effect as <xref linkend="ex.cfgfile1"
      />. But instead of specifying the full path to the home directory, the ~
      (tilde) sign is used, which is expanded to the home directory
      automatically. The <filename>.pet</filename> suffix can be specified, but
      if omitted it will be appended automatically.</para>
    </example>

  </refsect1>


  <!--
      -
      - FILES
      -
  -->
  <refsect1 id="files">
    <title>FILES</title>

    <variablelist>
      <varlistentry>
	<term>&DEFRCFILE;</term>

	<listitem>
	  <para>The per-user configuration file. If existing, options are read
	  from this file but can be overridden by the command line
	  options.</para>

	  <para>Processing of this file can be disabled by invoking &yp; with
	  the <option>-i</option> option.</para>

	  <para>Refer to the <xref linkend="configurationfile" /> for an
	  explanation of the per-user configuration file.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <!--
      -
      - ENVIRONMENT
      -
  -->
  <!-- NLS_BEGIN -->
  <refsect1 id="environment">
    <title>ENVIRONMENT</title>

    <variablelist>
      <varlistentry>
	<term><envar>LC_MESSAGES</envar></term>

	<listitem>
	  <para>Printing messages in the specified language. Currently only
	  German is supported besides English.</para>
	</listitem>
      </varlistentry>
    </variablelist>

  </refsect1>
  <!-- NLS_END -->

  <!--
  -
  -  BUGS
  -
  -->
  <refsect1 id="bugs">
    <title>BUGS</title>

    <para>If a password record is open, the screen lock will not activate,
    leaving &yp; unprotected.</para>

    &bugreport;
  </refsect1>

  <!--
  -
  -  AUTHOR
  -
  -->
  <refsect1 id="author">
    <title>AUTHOR</title>
    <simpara>Rafael Ostertag <email>rafi@guengel.ch</email></simpara>
  </refsect1>

  <!--
  -
  -  SEE ALSO
  -
  -->
  <refsect1 id="seealso">
    <title>SEE ALSO</title>

    <simpara><!-- CSV2YAPET_BEGIN -->&csv2yapetman;, <!-- CSV2YAPET_END -->
    &CURSES;, &OPENSSL;, &CRYPTO;</simpara>
  </refsect1>

  <!--
  -
  - AVAILABILITY
  -
  -->
  <refsect1 id="availability">
    <title>AVAILABILITY</title>

    <para>The latest version of &yp; can be found under <ulink
    url="http://www.guengel.ch/myapps/yapet/">http://www.guengel.ch/myapps/yapet/</ulink>.</para>
  </refsect1>

  <!--
      -
      - LICENSE
      -
  -->
  <refsect1 id="license">
    <title>LICENSE</title>

    &license;
  </refsect1>

</refentry>
