<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"
[
<!ENTITY cpr SYSTEM "@srcdir@/copyright.sgml">
<!ENTITY supplatforms SYSTEM "@srcdir@/supportedplatforms.sgml">
<!ENTITY caution SYSTEM "@srcdir@/caution.sgml">
<!ENTITY OPENSSL "<citerefentry><refentrytitle>ssl</refentrytitle>
<manvolnum>3</manvolnum></citerefentry>">
<!ENTITY CURSES "<citerefentry><refentrytitle>curses</refentrytitle>
<manvolnum>3X</manvolnum></citerefentry>">
<!ENTITY YP "@PACKAGE_NAME@">
<!ENTITY FREEBSD "<trademark class='registered'>FreeBSD</trademark>">
<!ENTITY SOLARIS "<trademark class='trademark'>Sun</trademark>
<trademark class='trademark'>Solaris</trademark>">
<!ENTITY YPPKG "@PACKAGE_TARNAME@-@PACKAGE_VERSION@.tar.gz">
<!ENTITY YPVER "@PACKAGE_VERSION@">
]>
<article>

  <articleinfo>
    <title>&YP; - Yet Another Password Encryption Tool &YPVER;</title>
    <subtitle>Cygwin Build Instructions</subtitle>
    <author>
      <firstname>Rafael</firstname>
      <surname>Ostertag</surname>
    </author>
    <releaseinfo>
      $Id$
    </releaseinfo>
    &cpr;
  </articleinfo>

  <sect1 id="intro">
    <title>Introduction</title>

    <para>Build instructions for &YP; under Cygwin. The build and configuration
    steps are basically the same as on a real UNIX system. The only catch is,
    that the configure script need the <option>CXX</option> and
    <option>CC</option> variables explicitely set to <filename>g++</filename>
    and <filename>gcc</filename> respectively, else you will see a lot of
    errors.
    </para>
  </sect1>

  <sect1 id="prerquisites">
    <title>Prerequisite Cygwin Packages</title>

    <para>
      Prior building YAPET under Cygwin, you need to install following Cygwin Packages in addition the base system packages:
      <itemizedlist>
	<listitem><simpara>gcc-core</simpara></listitem>
	<listitem><simpara>gcc-g++</simpara></listitem>
	<listitem><simpara>libncurses-devel</simpara></listitem>
	<listitem><simpara>make</simpara></listitem>
	<listitem><simpara>openssl</simpara></listitem>
	<listitem><simpara>openssl-devel</simpara></listitem>
      </itemizedlist>
    </para>
  </sect1>

  <sect1 id="configuring">
    <title>Configuring</title>

    <para>Unpack the source code and run the configure script with the
    <option>CC</option> and <option>CXX</option> variables as shown
    below</para>

    <screen>./configure CXX=g++ CC=gcc</screen>

    <para>You may want to specify an alternate prefix with
    <option>--prefix</option>.</para>
  </sect1>

  <sect1 id="building">
    <title>Building and Installing</title>

    <para>Build &YP; by typing <command>make</command> on the command
    line. After the build has finished, make sure you run the checks by typing
    <command>make <option>check</option></command>. If all tests have
    succeeded, install &YP; by typing <command>make
    <option>install</option></command> on the command line.</para>

  </sect1>

  <sect1 id="builderror">
    <title>Build Error</title>
    <para>If the build process aborts with the error message</para>

    <para>
<screen>cc1: error: unrecognized command line option "-fvisibility=hidden"</screen>
    </para>

    <para>open the file <filename>intl/Makefile</filename> and remove the
    option <option>-fvisibility=hidden</option> from the
    <varname>CFLAGS</varname> variable. The <varname>CFLAGS</varname> variable
    is located around line number 86 in the
    <filename>Makefile</filename>.</para>
  </sect1>

</article>
