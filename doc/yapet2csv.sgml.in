<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	  "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"
[
<!ENTITY cpr SYSTEM "copyright.sgml">
<!ENTITY supplatforms SYSTEM "supportedplatforms.sgml">
<!ENTITY pwrecord SYSTEM "pwrecord.sgml">
<!ENTITY caution SYSTEM "caution.sgml">
<!ENTITY license SYSTEM "license.sgml">
<!ENTITY bugreport SYSTEM "bugreport.sgml">
<!ENTITY OPENSSL "<citerefentry><refentrytitle>ssl</refentrytitle>
<manvolnum>3</manvolnum></citerefentry>">
<!ENTITY CRYPTO "<citerefentry><refentrytitle>crypto</refentrytitle>
<manvolnum>3</manvolnum></citerefentry>">
<!ENTITY CURSES "<citerefentry><refentrytitle>curses</refentrytitle>
<manvolnum>3X</manvolnum></citerefentry>">
<!ENTITY YP "@PACKAGE_NAME@">
<!ENTITY yp "<command>@PACKAGE@</command>">
<!ENTITY ypman "<citerefentry><refentrytitle>yapet</refentrytitle>
<manvolnum>1</manvolnum></citerefentry>">
<!ENTITY CSV2YAPET "csv2yapet">
<!ENTITY csv2yapet "<command>csv2yapet</command>">
<!ENTITY csv2yapetman "<citerefentry condition='csv2yapet'><refentrytitle>csv2yapet</refentrytitle>
<manvolnum>1</manvolnum></citerefentry>">
<!ENTITY YAPET2CSV "yapet2csv">
<!ENTITY yapet2csv "<command>yapet2csv</command>">
<!ENTITY yapet2csvman "<citerefentry condition='yapet2csv'><refentrytitle>yapet2csv</refentrytitle>
<manvolnum>1</manvolnum></citerefentry>">
<!ENTITY yapet_config "<citerefentry><refentrytitle>yapet_config</refentrytitle>
<manvolnum>5</manvolnum></citerefentry>">
<!ENTITY yapet_colors "<citerefentry><refentrytitle>yapet_colors</refentrytitle>
<manvolnum>5</manvolnum></citerefentry>">
<!ENTITY FREEBSD "<trademark class='registered'>FreeBSD</trademark>">
<!ENTITY SOLARIS "<trademark class='trademark'>Sun</trademark>
<trademark class='trademark'>Solaris</trademark>">
<!ENTITY YPPKG "@PACKAGE_TARNAME@-@PACKAGE_VERSION@.tar.gz">
<!ENTITY YPVER "@PACKAGE_VERSION@">
]>
<refentry id="yapet2csv">
  <!-- $Id$ -->

  <refentryinfo>
     <productname>yapet2csv</productname>
     &cpr;
  </refentryinfo>

  <refmeta>
    <refentrytitle>yapet2csv</refentrytitle>
    <manvolnum>1</manvolnum>
    <refmiscinfo class="version">@PACKAGE_VERSION@</refmiscinfo>
    <refmiscinfo class="manual">User Commands</refmiscinfo>
  </refmeta>

  <refnamediv>
    <refname>yapet2csv</refname>
    <refpurpose>convert &YP; file to CSV file</refpurpose>
  </refnamediv>

  <refsynopsisdiv>
    <cmdsynopsis cmdlength="9">
      &yapet2csv;
      <group>
	<arg choice="opt" rep="norepeat"><option>-c</option></arg>
	<arg choice="opt" rep="norepeat"><option>-h</option></arg>
	<arg choice="opt" rep="norepeat"><option>-V</option></arg>
      </group>
      <arg choice="opt" rep="norepeat"><option>-H</option></arg>
      <arg choice="opt" rep="norepeat"><option>-p</option> <arg
      choice="req"><replaceable>password</replaceable></arg></arg>
      <arg choice="opt" rep="norepeat"><option>-q</option></arg>
      <arg choice="opt" rep="norepeat"><option>-s</option> <arg choice="req"
      rep="norepeat"><replaceable>separator</replaceable></arg></arg>

      <arg choice="req"><replaceable>src</replaceable></arg>
      <arg choice="req"><replaceable>dst</replaceable></arg>
    </cmdsynopsis>
  </refsynopsisdiv>

  <!--
  -
  -  DESCRIPTION
  -
  -->
  <refsect1 id="description">
    <title>DESCRIPTION</title>

    <para>Convert a &YP; file to a CSV file. The source file
    specified by <replaceable>src</replaceable> will not be
    modified.</para>

    <para>The resulting CSV file <replaceable>dst</replaceable> has
    the format as shown in <xref linkend="tab.csvformat" />.</para>

    <table pgwide="1" id="tab.csvformat">
      <title>CSV file format</title>

      <tgroup cols="3">
	<colspec colname="colnum" align="center" />
	<colspec colname="desc" align="left" />
	<colspec colname="maxsize" align="left" />
	
	<thead>
	  <row>
	    <entry>Column #</entry>
	    <entry align="left">&YP; record field</entry>
	    <entry align="left">Maximum size in bytes</entry>
	  </row>
	</thead>
	<tbody>
	  <row>
	    <entry>1</entry>
	    <entry align="left">Name</entry>
	    <entry>127</entry>
	  </row>

	  <row>
	    <entry>2</entry>
	    <entry>Host</entry>
	    <entry>255</entry>
	  </row>

	  <row>
	    <entry>3</entry>
	    <entry>User name</entry>
	    <entry>255</entry>
	  </row>

	  <row>
	    <entry>4</entry>
	    <entry>Password</entry>
	    <entry>255</entry>
	  </row>

	  <row>
	    <entry>5</entry>
	    <entry>Comment</entry>
	    <entry>511</entry>
	  </row>
	</tbody>
      </tgroup>
    </table>

  </refsect1>

  <!--
  -
  -  OPTIONS
  -
  -->
  <refsect1 id="options">
    <title>OPTIONS</title>

    <variablelist>
      <varlistentry>
	<term><option>-h</option></term>
	<listitem>
	  <para>Show help.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-c</option></term>
	<listitem>
	  <para>Show copyright.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-V</option></term>
	<listitem>
	  <para>Show version.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-H</option></term>
	<listitem>
	  <para>Add header line to CSV file.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-p</option></term>
	<listitem>
	  <para>Use the master password
	  <replaceable>password</replaceable> provided to decrypt
	  <replaceable>src</replaceable>. The use of this option is
	  not recommended for security reasons.</para>

	  <para>By default, &yapet2csv; prompts for the master
	  password.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><option>-q</option></term>
	<listitem>
	  <para>Do not produce verbose output, except for error
	  messages. By default, &yapet2csv; will print a period for
	  each converted password record to stdout.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <!--
  -
  -  OPERANDS
  -
  -->
  <refsect1 id="operands">
    <title>OPERANDS</title>

    <variablelist>
      <varlistentry>
	<term><filename><replaceable>src</replaceable></filename></term>
	<listitem>
	  <para>Source &YP; file path which will be converted to CSV and
	  stored in <replaceable>dst</replaceable>. If the the file
	  path does not end in <filename
	  class="extension">.pet</filename>, &yapet2csv; will append
	  <filename class="extension">.pet</filename> to the operand.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename><replaceable>dst</replaceable></filename></term>
	<listitem>
	  <para>File path where the converted &YP; file will be
	  stored. The file must not exist prior invoking
	  &yapet2csv;. Refer to <xref linkend="tab.csvformat"/> for
	  the format of the resulting CSV file
	  <replaceable>dst</replaceable>.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </refsect1>

  <!--
  -
  - EXAMPLES
  -
  -->

  <refsect1 id="examples">
    <title>EXAMPLES</title>

    <example id="ex1">
      <title>Prompt for Master Password</title>
      <para>Convert the &YP; file <filename>/tmp/foo.pet</filename>
      to a CSV file <filename>/tmp/bar.csv</filename>. Master password
      used to decrypt <filename>foo.pet</filename> will be prompted
      for:</para>

      <screen>
	<prompt>$</prompt> yapet2csv <filename>/tmp/foo.pet</filename> <filename>/tmp/bar.csv</filename>
      </screen>
    </example>

    <example id="ex2">
      <title>Provide Master Password on command line</title>
      <para>Convert the &YP; file <filename>/tmp/foo2.pet</filename>
      to a CSV file <filename>/tmp/bar2.csv</filename>. Master
      password <userinput>secret</userinput> used to decrypt
      <filename>foo2.pet</filename> is provided on command
      line:</para>

      <screen>
	<prompt>$</prompt> yapet2csv -p secret <filename>/tmp/foo2.pet</filename> <filename>/tmp/bar2.csv</filename>
      </screen>
    </example>

  </refsect1>

  <!--
      -
      - EXIT STATUS
      -
  -->
  <refsect1 id="exitstatus">
    <title>EXIT STATUS</title>

    <para>
      <variablelist>

	<varlistentry>
	  <term><returnvalue>0</returnvalue></term>
	  <listitem>
	    <para>Successful completion.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><returnvalue>1</returnvalue></term>

	  <listitem>
	    <para>Error while parsing command line arguments.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><returnvalue>2</returnvalue></term>

	  <listitem>
	    <para>File <replaceable>dst</replaceable> already
	    exists.</para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><returnvalue>3</returnvalue></term>

	  <listitem>
	    <para>An error occurred.</para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </para>

  </refsect1>

  <!--
  -
  -  BUGS
  -
  -->
  <refsect1 id="bugs">
    <title>BUGS</title>

    &bugreport;
  </refsect1>


  <!--
  -
  -  AUTHOR
  -
  -->
  <refsect1 id="author">
    <title>AUTHOR</title>
    <simpara>Rafael Ostertag <email>rafi@guengel.ch</email></simpara>
  </refsect1>

  <!--
  -
  -  SEE ALSO
  -
  -->
  <refsect1 id="seealso">
    <title>SEE ALSO</title>

    <simpara>&ypman;, &csv2yapetman;</simpara>
  </refsect1>
</refentry>
